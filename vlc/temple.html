<!--  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - >
<  mobile.html: VLC media player web interface - VLM
< - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - >
<  Copyright (C) 2005-2014 VLC authors and VideoLAN
<  $Id$
<
<  Authors: Brandon Brooks <bwbrooks -at- archmageinc -dot- com>
<
<  This program is free software; you can redistribute it and/or modify
<  it under the terms of the GNU General Public License as published by
<  the Free Software Foundation; either version 2 of the License, or
<  (at your option) any later version.
<
<  This program is distributed in the hope that it will be useful,
<  but WITHOUT ANY WARRANTY; without even the implied warranty of
<  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<  GNU General Public License for more details.
<
<  You should have received a copy of the GNU General Public License
<  along with this program; if not, write to the Free Software
<  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
< - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<html>

<head>
    <title>VLC media player - Web Interface</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="initial-scale=1.0" />
    <meta name="viewport" content="width=device-width" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon" />
    <script type="text/javascript" src="js/common.js"></script>
    <link type="text/css" href="css/ui-lightness/jquery-ui-1.8.13.custom.css" rel="stylesheet" />
    <link type="text/css" href="css/mobile.css" rel="stylesheet" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js">
    </script>
    <script type="text/javascript" src="js/jquery.jstree.js"></script>
    <script type="text/javascript" src="https://releases.flowplayer.org/js/flowplayer-3.2.6.min.js"></script>
    <script type="text/javascript" src="js/ui.js"></script>
    <script type="text/javascript" src="js/controllers.js"></script>
    <script type="text/javascript">
        var pollStatus = true;
        var state
        $(window).load(function() {
            if ($('#buttonPlay').attr('state') == 'paused') {
                state = "playing";
                $("#circle").attr("class", "play");
                    $("#from_pause_to_play")[0].beginElement();
            } else {
                state = "pause";
                $("#circle").attr("class", "");
                    $("#from_play_to_pause")[0].beginElement();
            }
        });
        $(document).ready(function () {
            
            
            $('#pause').click(function () {
                if (state == 'paused') {
                    state = "playing";
                    $("#circle").attr("class", "play");
                    $("#from_pause_to_play")[0].beginElement();
                } else {
                    state = "paused";
                    $("#circle").attr("class", "");
                    $("#from_play_to_pause")[0].beginElement();
                }
            });
        });
        $(function () {
            $('#buttonSout').click(function () {
                var file = decodeURIComponent($('#buttonPlay').attr('mrl'));
                if (file) {
                    
                    var defaultStream = 'new Current broadcast enabled input "' + file +
                        '" output #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,ab=512,samplerate=44100,channels=2}:std{access=' +
                        $('#stream_protocol').val() + ',mux=avformat{{mux=flv}},dst=0.0.0.0:' + $(
                            '#stream_port').val() + '/' + $('#stream_file').val() + '}';
                    sendVLMCmd('del Current;' + defaultStream + ';control Current play',
                        'window.location="mobile_view.html"');
                }
                return false;
            });
            $('#channela').click(function () {
                state = "playing";
                $("#circle").attr("class", "play");
                    $("#from_pause_to_play")[0].beginElement();
                sendCommand({
                    'command': 'in_play',
                    'input': 'udp://@239.27.0.27:1234'
                });
            });
            $('#channelb').click(function () {
                state = "playing";
                $("#circle").attr("class", "play");
                    $("#from_pause_to_play")[0].beginElement();
                sendCommand({
                    'command': 'in_play',
                    'input': 'udp://@239.27.0.27:1235'
                });
            });
        })
    </script>
    <style>
        svg {
            display: block;
        }
        #circle {
            transition: stroke-dashoffset 300ms ease-in;
            stroke-dashoffset: 0;
            fill: none;
        }
        #circle.play {
            stroke-dashoffset: 314;
        }
        .ui-slider-range {
            background: rgba(13,202,240,1)!important;
        }
        .fullscreen {
            background-color: transparent;
    background-origin: content-box;
    background-position: 50%;
    background-repeat: no-repeat;
    background-size: 1.5em;
    border: 0;
    box-sizing: content-box;
    cursor: pointer;
    font-size: 1em;
    height: 1.5em;
    min-width: 1.5em;
    padding: 0.25em;
            background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_6%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M4.7%2C7.7h4.7V5.4H4.7c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v4.7h2.4V7.7z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M4.7%2C19.5H2.4v4.7c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h4.7v-2.4H4.7V19.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.3%2C5.4h-4.7v2.4h4.7v4.7h2.4V7.7C29.6%2C6.4%2C28.6%2C5.4%2C27.3%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_3%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.3%2C24.3h-4.7v2.4h4.7c1.3%2C0%2C2.4-1.1%2C2.4-2.4v-4.7h-2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");
        }
        #buttonFull {
            background-position: 0;
        }
    </style>
</head>

<body style="--bs-bg-opacity: 1;
background-color: rgba(33,37,41,1)!important;
color:white">
    <div id="content" class="centered">
        <div id="play_controls">
            <div id="controls">
                <div id="buttons">
                    <div id="buttonPlay" class="ui-corner-all paused" title="Play" style="display: flex;justify-content: space-evenly;align-items: center;">
                        <svg width="104" height="104" id='pause'>
                            <circle id="circle" cx="51" cy="51" r="50" stroke-dasharray="314" stroke-dashoffset="0"
                                style="stroke-width:2px;stroke:white;" />
                            <line id='line1' x1="38" y1="30" x2="38" y2="70"
                                style="stroke-width:4px;stroke:white;stroke-linecap: round;" />
                            <path id='line2' d="M 66 30 L 66 50 L 66 70" rx="10" ry="10"
                                style="stroke-width:4px;stroke:white;fill:white;stroke-linejoin: round;stroke-linecap: round;">
                                <animate attributeName="d" dur="300ms" from="M 66 30 L 66 50 L 66 70"
                                    to="M 38 30 L 70 50 L 38 70" begin="indefinite" fill="freeze"
                                    id="from_pause_to_play" />
                            </path>
                            <animate xlink:href="#line2" attributeName="d" dur="300ms" from="M 38 30 L 70 50 L 38 70"
                                to="M 66 30 L 66 50 L 66 70" fill="freeze" id="from_play_to_pause" begin="indefinite" />
                        </svg>
                                <div style="margin-left:5px">
                                    <div class="centered" style="text-align: center;width: 100%;margin-top: 5px;">Now Playing:</div>
                                    <div id="mediaTitle" class="dynamic centered"></div>
                                    <div id="currentTime" class="dynamic centered" style="text-align: center;width: 100%;margin-top: 5px;">
                                        00:00:00</div>
                                </div>
                    </div>

                    <div style="margin: 0 auto;position: relative;width: 288px;display: flex;justify-content: space-evenly;margin-top: 15px;margin-bottom:15px">

                    <div id="channela" class="ui-corner-all" style="
                        background: none;
                        border: none;
                        display: inline-block;
                        cursor: pointer;
                        background-repeat: no-repeat;"><strong>Channel A</strong>
                    </div>

                    <div id="channelb" class="ui-corner-all" style="
                        background: none;
                        border: none;
                        display: inline-block;
                        cursor: pointer;
                        background-repeat: no-repeat;"><strong>Channel B</strong>
                    </div>
                        </div>
                    <div style="margin: 0 auto;position: relative;width: 288px;display:flex;justify-content: space-evenly;align-items: center;">

                        <div id="buttonFull" class="fullscreen  ui-corner-all" title="Full Screen" style="margin-right: 15px;"></div>
                    
                    <div id="volumeSlider" title="Volume" style="font-size:15px;background:rgba(108,117,125,1) ;">
                        <img src="images/speaker-32.png" class="ui-slider-handle" alt="volume" />
                    </div>
                </div>
                </div>

            </div>
        </div>
</body>

</html>